!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},r={},a={},n={}.hasOwnProperty,s=/^\.\.?(\/|$)/,o=function(e,t){for(var r,a=[],n=(s.test(t)?e+"/"+t:t).split("/"),o=0,i=n.length;i>o;o++)r=n[o],".."===r?a.pop():"."!==r&&""!==r&&a.push(r);return a.join("/")},i=function(e){return e.split("/").slice(0,-1).join("/")},c=function(t){return function(r){var a=o(i(t),r);return e.require(a,t)}},l=function(e,t){var a=null;a=f&&f.createHot(e);var n={id:e,exports:{},hot:a};return r[e]=n,t(n.exports,c(e),n),n.exports},u=function(e){return a[e]?u(a[e]):e},p=function(e,t){return u(o(i(e),t))},m=function(e,a){null==a&&(a="/");var s=u(e);if(n.call(r,s))return r[s].exports;if(n.call(t,s))return l(s,t[s]);throw new Error("Cannot find module '"+e+"' from '"+a+"'")};m.alias=function(e,t){a[t]=e};var d=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,g=function(e){if(d.test(e)){var t=e.replace(d,"");n.call(a,t)&&a[t].replace(d,"")!==t+"/index"||(a[t]=e)}if(h.test(e)){var r=e.replace(h,"");n.call(a,r)||(a[r]=e)}};m.register=m.define=function(e,a){if("object"==typeof e)for(var s in e)n.call(e,s)&&m.register(s,e[s]);else t[e]=a,delete r[e],g(e)},m.list=function(){var e=[];for(var r in t)n.call(t,r)&&e.push(r);return e};var f=e._hmr&&new e._hmr(p,m,t,r);m._cache=r,m.hmr=f&&f.wrap,m.brunch=!0,e.require=m}}(),function(){var e;window;require.register("web/static/js/app.js",function(e,t,r){"use strict";function a(){0==window.AuthStore.isLoggedIn()&&setTimeout(function(){s.browserHistory.push("/login")},100)}function n(){1==window.AuthStore.isLoggedIn()&&setTimeout(function(){s.browserHistory.push("/app")},100)}t("phoenix_html");var s=t("react-router");window.React=t("react"),window.ReactDOM=t("react-dom"),window.Dispatcher=t("./dispatcher"),window.AuthStore=t("./stores/auth-store"),window.AuthStore.connectSocket();var o=t("./react/pages/home-page"),i=t("./react/pages/login-page"),c=t("./react/pages/signup-page"),l=t("./react/pages/dashboard-page"),u=t("./react/pages/new-contact-page"),p=t("./react/pages/contacts-page"),m=t("./react/pages/new-job-page"),d=t("./react/pages/jobs-page"),h=t("./react/pages/not-found-page");ReactDOM.render(React.createElement(s.Router,{history:s.browserHistory},React.createElement(s.Route,{path:"/",component:o}),React.createElement(s.Route,{path:"/login",component:i,onEnter:n}),React.createElement(s.Route,{path:"/signup",component:c,onEnter:n}),React.createElement(s.Route,{path:"/app",component:l,onEnter:a}),React.createElement(s.Route,{path:"/app/contacts",component:p,onEnter:a}),React.createElement(s.Route,{path:"/app/contacts/new",component:u,onEnter:a}),React.createElement(s.Route,{path:"/app/jobs",component:d,onEnter:a}),React.createElement(s.Route,{path:"/app/jobs/new",component:m,onEnter:a}),React.createElement(s.Route,{path:"*",component:h})),document.getElementById("react-component"))}),require.register("web/static/js/dispatcher.js",function(e,t,r){"use strict";var a=t("react-router"),n={login:function(e,t){return $.ajax({method:"POST",url:"/api/login",data:{email:e,password:t}}).done(function(e){"success"==e.status&&(window.AuthStore.setSession(e),a.browserHistory.push("/app"))})},logout:function(){window.AuthStore.clearSession(),a.browserHistory.push("/login")},signup:function(e,t,r,a){return $.ajax({method:"POST",url:"/api/signup",data:{user:{first_name:e,last_name:t,email:r,password:a}}})}};r.exports=n}),require.register("web/static/js/react/create-btn.js",function(e,t,r){"use strict";var a=React.createClass({displayName:"CreateBtn",propTypes:{title:React.PropTypes.string.isRequired,onCreate:React.PropTypes.func.isRequired},render:function(){return React.createElement("div",{id:"createbutton",onClick:this.props.onCreate},React.createElement("i",{className:"fa fa-plus"}),React.createElement("div",{id:"button-label"},this.props.title))}});r.exports=a}),require.register("web/static/js/react/forms/login-form.js",function(e,t,r){"use strict";var a=t("./password-field"),n=t("./text-field"),s=React.createClass({displayName:"LoginForm",getInitialState:function(){return{email:null,password:null,errors:[]}},handleFieldChange:function(e,t){var r={};r[e]=t,this.setState(r)},login:function(e){e.preventDefault();var t=this;window.Dispatcher.login(this.state.email,this.state.password).done(function(e){"failure"==e.status&&t.setState({errors:e.errors})}).error(function(){t.setState({errors:[{message:"Authentication failed!",field:"password"}]})})},parseErrors:function(e){return 0==this.state.errors.length?[]:this.state.errors.map(function(t){return t.field==e?t:void 0})},render:function(){return React.createElement("form",{onSubmit:this.login},React.createElement("h1",null,"Login Form"),React.createElement(n,{label:"Email",value:this.state.email,errors:this.parseErrors("email"),onChange:this.handleFieldChange.bind(this,"email")}),React.createElement(a,{label:"Password",value:this.state.password,errors:this.parseErrors("password"),onChange:this.handleFieldChange.bind(this,"password")}),React.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.login},"Login"))}});r.exports=s}),require.register("web/static/js/react/forms/password-field.js",function(e,t,r){"use strict";var a=React.createClass({displayName:"TextField",propTypes:{label:React.PropTypes.string.isRequired,value:React.PropTypes.string,errors:React.PropTypes.array,onChange:React.PropTypes.func.isRequired},handleChange:function(e){this.props.onChange(e.target.value)},renderErrors:function(){return this.props.errors?this.props.errors.map(function(e,t){return"undefined"!=typeof e?React.createElement("div",{key:t,className:"error"},e.message):void 0}):void 0},render:function(){return React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},this.props.label),React.createElement("input",{type:"password",className:"form-control",value:this.props.value,onChange:this.handleChange}),React.createElement("div",{className:"errors"},this.renderErrors()))}});r.exports=a}),require.register("web/static/js/react/forms/signup-form.js",function(e,t,r){"use strict";var a=t("./password-field"),n=t("./text-field"),s=React.createClass({displayName:"SignupForm",getInitialState:function(){return{firstName:null,lastName:null,email:null,password:null,confirmPassword:null,errors:[]}},handleFieldChange:function(e,t){var r={};r[e]=t,this.setState(r)},parseErrors:function(e){return 0==this.state.errors.length?[]:this.state.errors.map(function(t){return t.field==e?t:void 0})},signup:function(e){e.preventDefault();var t=this;if(this.state.password==this.state.confirmPassword){window.Dispatcher.signup(this.state.firstName,this.state.lastName,this.state.email,this.state.password).done(function(e){"failure"==e.status?t.setState({errors:e.errors}):"success"==e.status&&window.Dispatcher.login(t.state.email,t.state.password)}).error(function(){t.setState({errors:[{message:"Signup failed!",field:"email"}]})})}else this.setState({errors:[{message:"don't match",field:"password"}]})},render:function(){return React.createElement("form",{onSubmit:this.signup},React.createElement("h1",null,"Signup Form"),React.createElement(n,{label:"First Name",value:this.state.firstName,errors:this.parseErrors("first_name"),onChange:this.handleFieldChange.bind(this,"firstName")}),React.createElement(n,{label:"Last Name",value:this.state.lastName,errors:this.parseErrors("last_name"),onChange:this.handleFieldChange.bind(this,"lastName")}),React.createElement(n,{label:"Email",value:this.state.email,errors:this.parseErrors("email"),onChange:this.handleFieldChange.bind(this,"email")}),React.createElement(a,{label:"Password",value:this.state.password,errors:this.parseErrors("password"),onChange:this.handleFieldChange.bind(this,"password")}),React.createElement(a,{label:"Confirm Password",value:this.state.confirmPassword,errors:this.parseErrors("password"),onChange:this.handleFieldChange.bind(this,"confirmPassword")}),React.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.signup},"Submit"))}});r.exports=s}),require.register("web/static/js/react/forms/text-field.js",function(e,t,r){"use strict";var a=React.createClass({displayName:"TextField",propTypes:{label:React.PropTypes.string.isRequired,value:React.PropTypes.string,errors:React.PropTypes.array,onChange:React.PropTypes.func.isRequired},handleChange:function(e){this.props.onChange(e.target.value)},renderErrors:function(){return this.props.errors?this.props.errors.map(function(e,t){return"undefined"!=typeof e?React.createElement("div",{key:t,className:"error"},e.message):void 0}):void 0},render:function(){return React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},this.props.label),React.createElement("input",{type:"text",className:"form-control",value:this.props.value,onChange:this.handleChange}),React.createElement("div",{className:"errors"},this.renderErrors()))}});r.exports=a}),require.register("web/static/js/react/nav-bar.js",function(e,t,r){"use strict";var a=t("react-router"),n=React.createClass({displayName:"NavBar",propTypes:{},getInitialState:function(){return{isLoggedIn:!1,menuOpen:!1}},componentDidMount:function(){window.AuthStore.subscribe(this.receiveState)},componentWillUnmount:function(){window.AuthStore.unsubscribe(this.receiveState)},receiveState:function(e,t,r){this.setState({isLoggedIn:e})},openMenu:function(){this.setState({menuOpen:!this.state.menuOpen})},handleLogout:function(){window.Dispatcher.logout()},renderLogo:function(){return React.createElement("li",null,React.createElement(a.Link,{to:"/"},React.createElement("img",{src:"/images/logo.png",alt:"WhosAble"})))},renderMenuBtn:function(){var e="";return this.state.menuOpen&&(e="open"),React.createElement("li",null,React.createElement("div",{id:"menu-btn",className:e,onClick:this.openMenu},React.createElement("span",null),React.createElement("span",null),React.createElement("span",null),React.createElement("span",null)))},renderMenu:function(){var e="";return this.state.menuOpen&&(e="open"),this.state.isLoggedIn&&(e+=" app-menu"),this.state.isLoggedIn?React.createElement("ul",{id:"menu",className:e},React.createElement("li",null,React.createElement(a.Link,{to:"/app"},React.createElement("i",{className:"fa fa-tachometer"}),"Dashboard")),React.createElement("li",null,React.createElement(a.Link,{to:"/app/jobs"},React.createElement("i",{className:"fa fa-briefcase"}),"Jobs")),React.createElement("li",null,React.createElement(a.Link,{to:"/app/contacts"},React.createElement("i",{className:"fa fa-users"}),"Contacts")),React.createElement("li",null,React.createElement("a",{href:"javascript:;",onClick:this.handleLogout},React.createElement("i",{className:"fa fa-sign-out"}),"Logout"))):React.createElement("ul",{id:"menu",className:e},React.createElement("li",null,React.createElement(a.Link,{to:"/signup"},React.createElement("i",{className:"fa fa-plus"}),"Signup")),React.createElement("li",null,React.createElement(a.Link,{to:"/login"},React.createElement("i",{className:"fa fa-sign-in"}),"Login")))},render:function(){return React.createElement("div",{id:"nav-bar"},React.createElement("ul",{id:"nav-bar-items"},this.renderLogo(),this.renderMenuBtn()),this.renderMenu())}});r.exports=n}),require.register("web/static/js/react/pages/contacts-page.js",function(e,t,r){"use strict";var a=t("react-router"),n=t("../create-btn"),s=t("../nav-bar"),o=React.createClass({displayName:"ContactsPage",handleCreate:function(){a.browserHistory.push("/app/contacts/new")},render:function(){return React.createElement("div",null,React.createElement(s,null),React.createElement("div",{className:"container"},React.createElement("main",{role:"main"},React.createElement(n,{title:"Create a new Contact",onCreate:this.handleCreate}))))}});r.exports=o}),require.register("web/static/js/react/pages/dashboard-page.js",function(e,t,r){"use strict";var a=t("react-router"),n=t("../create-btn"),s=t("../nav-bar"),o=React.createClass({displayName:"DashboardPage",handleCreate:function(){a.browserHistory.push("/app/jobs/new")},render:function(){return React.createElement("div",null,React.createElement(s,null),React.createElement("div",{className:"container"},React.createElement("main",{role:"main"},React.createElement(n,{title:"Create a new Job",onCreate:this.handleCreate}))))}});r.exports=o}),require.register("web/static/js/react/pages/home-page.js",function(e,t,r){"use strict";var a=t("../nav-bar"),n=t("../forms/signup-form"),s=React.createClass({displayName:"HomePage",propTypes:{},getInitialState:function(){return{isLoggedIn:!1}},componentDidMount:function(){window.AuthStore.subscribe(this.receiveState)},componentWillUnmount:function(){window.AuthStore.unsubscribe(this.receiveState)},receiveState:function(e,t,r){this.setState({isLoggedIn:e})},renderSignupForm:function(){return this.state.isLoggedIn?void 0:React.createElement(n,null)},render:function(){return React.createElement("div",null,React.createElement(a,{isLoggedIn:this.state.isLoggedIn}),React.createElement("div",{className:"container"},React.createElement("main",{role:"main"},React.createElement("div",null,"Home Page Placeholder"),this.renderSignupForm())))}});r.exports=s}),require.register("web/static/js/react/pages/jobs-page.js",function(e,t,r){"use strict";var a=t("react-router"),n=t("../create-btn"),s=t("../nav-bar"),o=React.createClass({displayName:"JobsPage",handleCreate:function(){a.browserHistory.push("/app/jobs/new")},render:function(){return React.createElement("div",null,React.createElement(s,null),React.createElement("div",{className:"container"},React.createElement("main",{role:"main"},React.createElement(n,{title:"Create a new Job",onCreate:this.handleCreate}))))}});r.exports=o}),require.register("web/static/js/react/pages/login-page.js",function(e,t,r){"use strict";var a=t("../nav-bar"),n=t("../forms/login-form"),s=React.createClass({displayName:"LoginPage",propTypes:{},render:function(){return React.createElement("div",null,React.createElement(a,null),React.createElement("div",{className:"container"},React.createElement("main",{role:"main"},React.createElement(n,null))))}});r.exports=s}),require.register("web/static/js/react/pages/new-contact-page.js",function(e,t,r){"use strict";var a=t("../nav-bar"),n=React.createClass({displayName:"NewContactPage",render:function(){return React.createElement("div",null,React.createElement(a,null),"New Contact Form here")}});r.exports=n}),require.register("web/static/js/react/pages/new-job-page.js",function(e,t,r){"use strict";var a=t("../nav-bar"),n=React.createClass({displayName:"NewJobPage",render:function(){return React.createElement("div",null,React.createElement(a,null),"New Job Form here")}});r.exports=n}),require.register("web/static/js/react/pages/not-found-page.js",function(e,t,r){"use strict";var a=t("../nav-bar"),n=React.createClass({displayName:"NotFoundPage",propTypes:{},render:function(){return React.createElement("div",null,React.createElement(a,null),React.createElement("div",{className:"container"},React.createElement("main",{role:"main"},React.createElement("h1",null,"404- Page Not Found"))))}});r.exports=n}),require.register("web/static/js/react/pages/signup-page.js",function(e,t,r){"use strict";var a=t("../nav-bar"),n=t("../forms/signup-form"),s=React.createClass({displayName:"SignupPage",propTypes:{},render:function(){return React.createElement("div",null,React.createElement(a,null),React.createElement("div",{className:"container"},React.createElement("main",{role:"main"},React.createElement(n,null))))}});r.exports=s}),require.register("web/static/js/socket.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("phoenix"),n=new a.Socket("/account_socket",{params:{token:window.userToken}});n.connect();var s=n.channel("topic:subtopic",{});s.join().receive("ok",function(e){console.log("Joined successfully",e)}).receive("error",function(e){console.log("Unable to join",e)}),e["default"]=n}),require.register("web/static/js/stores/auth-store.js",function(e,t,r){"use strict";var a=t("phoenix");r.exports={token:sessionStorage.getItem("token"),userID:sessionStorage.getItem("userID"),accountID:sessionStorage.getItem("accountID"),hashLocation:null,socket:null,channel:null,callBacks:[],subscribe:function(e){window.AuthStore.callBacks.push(e),window.AuthStore.sendCallBack(e)},unsubscribe:function(e){var t=window.AuthStore.callBacks.indexOf(e);-1!=t&&window.AuthStore.callBacks.splice(t,1)},sendCallBacks:function(){window.AuthStore.callBacks.forEach(function(e){e&&"function"==typeof e&&window.AuthStore.sendCallBack(e)})},sendCallBack:function(e){e(window.AuthStore.isLoggedIn(),window.AuthStore.userID,window.AuthStore.accountID)},isLoggedIn:function(){return!!window.AuthStore.token&&!!window.AuthStore.accountID&&!!window.AuthStore.userID},setSession:function(e){sessionStorage.setItem("token",e.token),sessionStorage.setItem("userID",e.user_id),sessionStorage.setItem("accountID",e.account_id),window.AuthStore.token=e.token,window.AuthStore.userID=e.user_id,window.AuthStore.accountID=e.account_id,window.AuthStore.sendCallBacks()},clearSession:function(){sessionStorage.clear(),window.AuthStore.token=null,window.AuthStore.userID=null,window.AuthStore.accountID=null,window.AuthStore.sendCallBacks()},connectSocket:function(){window.AuthStore.isLoggedIn()&&!window.AuthStore.socket&&(window.AuthStore.socket=new a.Socket("/account_socket",{params:{token:window.AuthStore.token}}),window.AuthStore.socket.connect(),window.AuthStore.channel=window.AuthStore.socket.channel("account:"+window.AuthStore.accountID,{token:window.AuthStore.token}),window.AuthStore.channel.join().receive("ok",function(e){console.log("Joined successfully",e)}).receive("error",function(e){console.log("Unable to join",e)}))}}}),require.alias("phoenix/priv/static/phoenix.js","phoenix"),require.alias("phoenix_html/priv/static/phoenix_html.js","phoenix_html"),require.alias("react/react.js","react"),require.alias("react-router/lib/index.js","react-router"),require.alias("invariant/browser.js","invariant"),require.alias("warning/browser.js","warning"),require.alias("history/lib/index.js","history"),require.alias("process/browser.js","process"),e=require("process"),require.register("___globals___",function(e,t,r){})}(),require("___globals___"),require("web/static/js/app");